/**-----------------------------------------------------------------------------------------------------------------------
/*                                          IMPORTS
/*-----------------------------------------------------------------------------------------------------------------------*/

import { CronJob } from "cron";
import Alpaca from "@alpacahq/alpaca-trade-api";
import moment from "moment";
import updateAllPivotPoints from "./logic/updateAllPivotPoints.js";

/**-----------------------------------------------------------------------------------------------------------------------
/*                                          INITIALIZERS
/*-----------------------------------------------------------------------------------------------------------------------*/
// Instantiate the ALPACA API with configuration options
const options = {
	keyId: process.env.ALPACA_KEY_ID,
	secretKey: process.env.ALPACA_SECRET_KEY,
	paper: true,
};
const alpaca = new Alpaca(options);

/**-----------------------------------------------------------------------------------------------------------------------
/*                                          VARIABLES & CONSTANTS
/*-----------------------------------------------------------------------------------------------------------------------*/

const tickers = ["QQQ", "DIA", 'SPY'];

/**-----------------------------------------------------------------------------------------------------------------------
/*                                          LOGIC                 0 * 8 * * 1-5
/*-----------------------------------------------------------------------------------------------------------------------*/

const pivotPointsStrategy = async () => {
	// Update All Pivot Points on a daily basis Mon-Fri @ 8:00 am EST
	updateAllPivotPoints(tickers);

	// Get buying signal
	// let signal = getSignal
};

/**-----------------------------------------------------------------------------------------------------------------------
/*                                          EXPORT
/*-----------------------------------------------------------------------------------------------------------------------*/

export default pivotPointsStrategy;
